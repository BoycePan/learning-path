# 📚 Java学习路线 - 部署说明

## 🚀 快速开始

### 1. 安装依赖

```bash
# 使用 pnpm（推荐）
pnpm install

# 或使用 npm
npm install

# 或使用 yarn
yarn install
```

### 2. 启动开发服务器

```bash
# 使用 pnpm
pnpm docs:dev

# 或使用 npm
npm run docs:dev

# 或使用 yarn
yarn docs:dev
```

启动后访问：http://localhost:5173

### 3. 构建生产版本

```bash
# 使用 pnpm
pnpm docs:build

# 或使用 npm
npm run docs:build

# 或使用 yarn
yarn docs:build
```

构建完成后，生成的文件在 `.vitepress/dist` 目录。

### 4. 预览生产版本

```bash
# 使用 pnpm
pnpm docs:preview

# 或使用 npm
npm run docs:preview

# 或使用 yarn
yarn docs:preview
```

## 📁 项目结构

```
learning-path/
├── .vitepress/          # VitePress 配置
│   ├── config.mts       # 站点配置文件
│   ├── theme/           # 自定义主题（可选）
│   ├── cache/           # 缓存文件（自动生成）
│   └── dist/            # 构建输出（自动生成）
│
├── 01-Java基础/         # 第一阶段学习文档
│   ├── 基础语法.md
│   ├── 面向对象.md
│   ├── 集合框架.md
│   └── 异常处理.md
│
├── 02-Java进阶/         # 第二阶段学习文档
│   ├── 多线程并发.md
│   ├── IO与NIO.md
│   ├── JVM原理.md
│   └── 函数式编程.md
│
├── 03-数据库/           # 第三阶段学习文档
│   ├── MySQL.md
│   ├── Redis.md
│   └── MyBatis.md
│
├── 04-Spring生态/       # 第四阶段学习文档
│   ├── Spring核心.md
│   ├── SpringBoot.md
│   └── SpringCloud.md
│
├── 05-微服务与中间件/   # 第五阶段学习文档
│   ├── 微服务架构.md
│   ├── 消息队列.md
│   └── 分布式技术.md
│
├── 06-项目实战/         # 第六阶段学习文档
│   └── 项目实战.md
│
├── index.md             # 首页
├── README.md            # 学习路线总览
├── package.json         # 项目配置
└── .gitignore          # Git 忽略文件
```

## 🎨 功能特性

### ✅ 已实现功能

- ✅ **Markdown 渲染** - 支持标准 Markdown 语法和扩展语法
- ✅ **代码高亮** - 自动识别代码语言并高亮显示
- ✅ **导航栏** - 顶部导航和下拉菜单
- ✅ **侧边栏** - 左侧文档目录导航
- ✅ **搜索功能** - 全文搜索支持
- ✅ **深色模式** - 支持浅色/深色主题切换
- ✅ **移动端适配** - 响应式设计
- ✅ **页面内导航** - 右侧大纲导航
- ✅ **上一页/下一页** - 文档底部导航
- ✅ **代码行号** - 代码块显示行号

## 🌐 部署到服务器

### 方式1：部署到 GitHub Pages

1. 在 GitHub 创建仓库
2. 修改 `.vitepress/config.mts` 中的 `base` 配置：

```ts
export default defineConfig({
  base: '/your-repo-name/', // 仓库名称
  // ...其他配置
})
```

3. 添加 GitHub Actions 配置（创建 `.github/workflows/deploy.yml`）：

```yaml
name: Deploy VitePress site to Pages

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
          
      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8
          
      - name: Install dependencies
        run: pnpm install
        
      - name: Build
        run: pnpm docs:build
        
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: .vitepress/dist

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### 方式2：部署到 Vercel

1. 在 Vercel 导入 GitHub 仓库
2. 构建配置：
   - Build Command: `npm run docs:build` 或 `pnpm docs:build`
   - Output Directory: `.vitepress/dist`
3. 点击部署即可

### 方式3：部署到 Netlify

1. 在 Netlify 导入 GitHub 仓库
2. 构建配置：
   - Build command: `npm run docs:build` 或 `pnpm docs:build`
   - Publish directory: `.vitepress/dist`
3. 点击部署即可

### 方式4：部署到服务器（Nginx）

1. 构建项目：

```bash
pnpm docs:build
```

2. 将 `.vitepress/dist` 目录上传到服务器

3. 配置 Nginx：

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    
    root /path/to/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # 启用 gzip 压缩
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
}
```

## 🛠️ 自定义配置

### 修改主题颜色

编辑 `.vitepress/theme/custom.css`（需要先创建）：

```css
:root {
  --vp-c-brand-1: #42b883;
  --vp-c-brand-2: #35a373;
  --vp-c-brand-3: #278263;
}
```

### 添加自定义组件

在 `.vitepress/theme/index.ts` 中注册：

```ts
import DefaultTheme from 'vitepress/theme'
import MyComponent from './components/MyComponent.vue'

export default {
  extends: DefaultTheme,
  enhanceApp({ app }) {
    app.component('MyComponent', MyComponent)
  }
}
```

### 修改搜索配置

在 `.vitepress/config.mts` 中调整搜索选项。

## 📝 编写文档

### Markdown 增强语法

VitePress 支持以下增强功能：

#### 1. 自定义容器

```markdown
::: info
这是一个信息框
:::

::: tip
这是一个提示框
:::

::: warning
这是一个警告框
:::

::: danger
这是一个危险警告框
:::

::: details 点击查看详情
这是详情内容
:::
```

#### 2. 代码块功能

```java {1,3-5}
// 高亮第1行和第3-5行
public class Hello {
    public static void main(String[] args) {
        System.out.println("Hello World");
    }
}
```

#### 3. 表格

```markdown
| 特性 | 说明 |
|------|------|
| 功能1 | 描述1 |
| 功能2 | 描述2 |
```

#### 4. Emoji

支持标准 emoji：`:tada: :100:`

## 🔧 常见问题

### Q: 如何修改端口号？

A: 使用 `--port` 参数：

```bash
pnpm docs:dev --port 3000
```

### Q: 如何添加新的文档？

A: 
1. 在对应目录创建 `.md` 文件
2. 在 `.vitepress/config.mts` 的 `sidebar` 中添加链接

### Q: 如何自定义主题？

A: 参考 VitePress 官方文档：https://vitepress.dev/guide/custom-theme

## 📚 相关资源

- [VitePress 官方文档](https://vitepress.dev/)
- [Vue.js 官方文档](https://cn.vuejs.org/)
- [Markdown 语法](https://markdown.com.cn/)

## 📄 许可证

MIT License

---

如有问题，欢迎提 Issue 或 PR！

