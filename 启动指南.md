# 🚀 启动指南

## 问题排查

如果运行 `pnpm docs:dev` 后浏览器打开什么都看不到，请按以下步骤排查：

### 1. 检查服务是否正常启动

运行命令后，应该看到类似的输出：

```bash
  vitepress v1.x.x

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ➜  press h to show help
```

如果没有看到这个输出，说明启动失败了。

### 2. 检查端口是否被占用

如果 5173 端口被占用，可以指定其他端口：

```bash
pnpm docs:dev --port 3000
```

### 3. 清除缓存重新启动

```bash
# Windows
rd /s /q .vitepress\cache
rd /s /q node_modules\.vite

# Linux/Mac
rm -rf .vitepress/cache
rm -rf node_modules/.vite

# 重新启动
pnpm docs:dev
```

### 4. 重新安装依赖

```bash
# 删除依赖
rd /s /q node_modules  # Windows
rm -rf node_modules    # Linux/Mac

# 重新安装
pnpm install

# 启动
pnpm docs:dev
```

### 5. 检查浏览器控制台

打开浏览器开发者工具（F12），查看：

- **Console 标签** - 是否有 JavaScript 错误
- **Network 标签** - 是否有资源加载失败

### 6. 尝试访问不同的页面

如果首页不显示，尝试直接访问其他页面：

- http://localhost:5173/test （测试页面）
- http://localhost:5173/README （学习路线总览）
- http://localhost:5173/01-Java基础/基础语法 （Java基础）

## 快速验证

### 方式1：使用测试页面

访问：http://localhost:5173/test.html

如果能看到"测试页面"内容，说明 VitePress 工作正常。

### 方式2：修改首页为简单内容

临时修改 `index.md` 为最简单的内容：

```markdown
# 欢迎

这是首页测试。

[查看学习路线](/README)
```

然后刷新浏览器。

## 常见问题

### Q1: 页面空白，没有任何内容

**可能原因**：

- 配置文件语法错误
- Markdown 文件格式问题
- 浏览器缓存

**解决方案**：

```bash
# 1. 检查配置文件
# 打开 .vitepress/config.mts 检查是否有语法错误

# 2. 清除浏览器缓存
# Chrome: Ctrl + Shift + Delete
# 或者使用隐私模式打开

# 3. 硬刷新页面
# Ctrl + F5 (Windows)
# Cmd + Shift + R (Mac)
```

### Q2: 控制台报错 "Failed to fetch"

**解决方案**：

```bash
# 检查防火墙设置
# 或者使用 --host 参数
pnpm docs:dev --host
```

### Q3: 样式丢失或样式错误

**解决方案**：

```bash
# 清除 VitePress 缓存
rd /s /q .vitepress\cache
pnpm docs:dev
```

## 推荐的启动流程

```bash
# 1. 确保在项目根目录
cd D:\code\learning-path

# 2. 检查依赖是否安装
# 应该看到 node_modules 文件夹

# 3. 清除缓存（可选）
rd /s /q .vitepress\cache  # Windows
rm -rf .vitepress/cache    # Mac/Linux

# 4. 启动开发服务器
pnpm docs:dev

# 5. 等待服务启动（看到 Local: http://localhost:5173/）

# 6. 打开浏览器访问
# 手动打开浏览器，输入 http://localhost:5173/

# 7. 如果还是空白，按 F12 打开控制台查看错误
```

## 调试技巧

### 1. 查看详细日志

```bash
pnpm docs:dev --debug
```

### 2. 检查文件是否被正确识别

访问这些 URL，看能否正常显示：

- http://localhost:5173/
- http://localhost:5173/README.html
- http://localhost:5173/test.html

### 3. 使用 --open 自动打开浏览器

```bash
pnpm docs:dev --open
```

### 4. 指定具体的主机和端口

```bash
pnpm docs:dev --host 0.0.0.0 --port 8080
```

然后访问：http://localhost:8080/

## 最简配置测试

如果以上都不行，创建一个最简单的配置测试：

### 1. 创建 `.vitepress/config-simple.mts`

```typescript
import { defineConfig } from "vitepress";

export default defineConfig({
  title: "测试站点",
  description: "测试",
  themeConfig: {
    nav: [{ text: "首页", link: "/" }],
  },
});
```

### 2. 使用简单配置启动

```bash
# 先备份原配置
move .vitepress\config.mts .vitepress\config.mts.bak

# 重命名简单配置
move .vitepress\config-simple.mts .vitepress\config.mts

# 启动
pnpm docs:dev
```

## 需要帮助？

如果以上方法都不行，请提供：

1. **控制台完整输出** - 运行 `pnpm docs:dev` 的完整输出
2. **浏览器控制台错误** - F12 打开控制台，截图或复制错误信息
3. **系统信息** - Windows/Mac/Linux 版本
4. **Node.js 版本** - 运行 `node -v` 和 `pnpm -v`

---

**祝你顺利启动！** 🎉
