# Javaé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰

## ğŸ“Œ å­¦ä¹ ç›®æ ‡

- ç†è§£é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæ¦‚å¿µ
- æŒæ¡ç±»å’Œå¯¹è±¡çš„ä½¿ç”¨
- ç†è§£å°è£…ã€ç»§æ‰¿ã€å¤šæ€ä¸‰å¤§ç‰¹æ€§
- ç†Ÿç»ƒä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»

## â­ æ ¸å¿ƒæ¦‚å¿µ

é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„**ä¸‰å¤§ç‰¹æ€§**ï¼š
1. **å°è£…ï¼ˆEncapsulationï¼‰** â­â­â­â­â­
2. **ç»§æ‰¿ï¼ˆInheritanceï¼‰** â­â­â­â­â­
3. **å¤šæ€ï¼ˆPolymorphismï¼‰** â­â­â­â­â­

## 1. ç±»å’Œå¯¹è±¡ â­â­â­â­â­

### ç±»çš„å®šä¹‰

```java
/**
 * å­¦ç”Ÿç±»
 * ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹
 */
public class Student {
    // æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰â­â­â­â­â­
    private String name;      // å§“å
    private int age;          // å¹´é¾„
    private String studentId; // å­¦å·
    
    // æ„é€ æ–¹æ³• â­â­â­â­â­
    // æ— å‚æ„é€ 
    public Student() {
    }
    
    // æœ‰å‚æ„é€ 
    public Student(String name, int age, String studentId) {
        this.name = name;
        this.age = age;
        this.studentId = studentId;
    }
    
    // æˆå‘˜æ–¹æ³•ï¼ˆè¡Œä¸ºï¼‰â­â­â­â­â­
    public void study() {
        System.out.println(name + "æ­£åœ¨å­¦ä¹ ...");
    }
    
    public void introduce() {
        System.out.println("æˆ‘æ˜¯" + name + "ï¼Œä»Šå¹´" + age + "å²ï¼Œå­¦å·ï¼š" + studentId);
    }
    
    // Getterå’ŒSetteræ–¹æ³• â­â­â­â­â­
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        if (age > 0 && age < 150) {  // æ•°æ®éªŒè¯
            this.age = age;
        }
    }
    
    public String getStudentId() {
        return studentId;
    }
    
    public void setStudentId(String studentId) {
        this.studentId = studentId;
    }
}
```

### å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨

```java
public class StudentTest {
    public static void main(String[] args) {
        // åˆ›å»ºå¯¹è±¡ â­â­â­â­â­
        Student student1 = new Student();
        student1.setName("å¼ ä¸‰");
        student1.setAge(20);
        student1.setStudentId("2024001");
        
        // ä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡
        Student student2 = new Student("æå››", 21, "2024002");
        
        // è°ƒç”¨å¯¹è±¡æ–¹æ³•
        student1.introduce();
        student1.study();
        
        student2.introduce();
        student2.study();
    }
}
```

## 2. å°è£…ï¼ˆEncapsulationï¼‰ â­â­â­â­â­

### è®¿é—®ä¿®é¥°ç¬¦

```java
public class AccessModifierDemo {
    public int publicVar = 1;        // å…¬å…±ï¼šä»»ä½•åœ°æ–¹éƒ½å¯è®¿é—® â­â­â­â­â­
    protected int protectedVar = 2;  // å—ä¿æŠ¤ï¼šåŒåŒ…+å­ç±»å¯è®¿é—® â­â­â­â­
    int defaultVar = 3;              // é»˜è®¤ï¼šåŒåŒ…å¯è®¿é—® â­â­â­
    private int privateVar = 4;      // ç§æœ‰ï¼šä»…æœ¬ç±»å¯è®¿é—® â­â­â­â­â­
    
    public void showVars() {
        // ç±»å†…éƒ¨å¯ä»¥è®¿é—®æ‰€æœ‰æˆå‘˜
        System.out.println(publicVar);
        System.out.println(protectedVar);
        System.out.println(defaultVar);
        System.out.println(privateVar);
    }
}
```

### å°è£…ç¤ºä¾‹

```java
/**
 * é“¶è¡Œè´¦æˆ·ç±» - å°è£…ç¤ºä¾‹ â­â­â­â­â­
 */
public class BankAccount {
    // ç§æœ‰å±æ€§ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®
    private String accountNumber;
    private String owner;
    private double balance;
    
    public BankAccount(String accountNumber, String owner, double initialBalance) {
        this.accountNumber = accountNumber;
        this.owner = owner;
        this.balance = initialBalance;
    }
    
    // å­˜æ¬¾æ–¹æ³•
    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
            System.out.println("å­˜æ¬¾æˆåŠŸï¼å½“å‰ä½™é¢ï¼š" + balance);
        } else {
            System.out.println("å­˜æ¬¾é‡‘é¢å¿…é¡»å¤§äº0");
        }
    }
    
    // å–æ¬¾æ–¹æ³•
    public boolean withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
            System.out.println("å–æ¬¾æˆåŠŸï¼å½“å‰ä½™é¢ï¼š" + balance);
            return true;
        } else {
            System.out.println("ä½™é¢ä¸è¶³æˆ–é‡‘é¢æ— æ•ˆ");
            return false;
        }
    }
    
    // æŸ¥è¯¢ä½™é¢
    public double getBalance() {
        return balance;
    }
    
    public String getOwner() {
        return owner;
    }
    
    // è´¦å·åªè¯»ï¼Œä¸æä¾›setter
    public String getAccountNumber() {
        return accountNumber;
    }
}
```

## 3. ç»§æ‰¿ï¼ˆInheritanceï¼‰ â­â­â­â­â­

### åŸºæœ¬ç»§æ‰¿

```java
/**
 * çˆ¶ç±»ï¼šäºº
 */
public class Person {
    protected String name;
    protected int age;
    
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    public void eat() {
        System.out.println(name + "åœ¨åƒé¥­");
    }
    
    public void sleep() {
        System.out.println(name + "åœ¨ç¡è§‰");
    }
    
    public void introduce() {
        System.out.println("æˆ‘æ˜¯" + name + "ï¼Œ" + age + "å²");
    }
}

/**
 * å­ç±»ï¼šå­¦ç”Ÿï¼ˆç»§æ‰¿Personï¼‰ â­â­â­â­â­
 */
public class StudentExtends extends Person {
    private String school;
    private String major;
    
    // å­ç±»æ„é€ æ–¹æ³•
    public StudentExtends(String name, int age, String school, String major) {
        super(name, age);  // è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³• â­â­â­â­â­
        this.school = school;
        this.major = major;
    }
    
    // å­ç±»ç‰¹æœ‰æ–¹æ³•
    public void study() {
        System.out.println(name + "åœ¨" + school + "å­¦ä¹ " + major);
    }
    
    // æ–¹æ³•é‡å†™ â­â­â­â­â­
    @Override
    public void introduce() {
        super.introduce();  // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        System.out.println("æˆ‘åœ¨" + school + "å­¦ä¹ " + major);
    }
}

/**
 * å­ç±»ï¼šæ•™å¸ˆï¼ˆç»§æ‰¿Personï¼‰
 */
public class Teacher extends Person {
    private String subject;
    private double salary;
    
    public Teacher(String name, int age, String subject, double salary) {
        super(name, age);
        this.subject = subject;
        this.salary = salary;
    }
    
    public void teach() {
        System.out.println(name + "æ­£åœ¨æ•™" + subject);
    }
    
    @Override
    public void introduce() {
        super.introduce();
        System.out.println("æˆ‘æ•™" + subject + "ï¼Œå·¥èµ„ï¼š" + salary);
    }
}
```

### ç»§æ‰¿æµ‹è¯•

```java
public class InheritanceTest {
    public static void main(String[] args) {
        StudentExtends student = new StudentExtends("ç‹äº”", 20, "æ¸…åå¤§å­¦", "è®¡ç®—æœºç§‘å­¦");
        student.eat();        // ç»§æ‰¿è‡ªPerson
        student.sleep();      // ç»§æ‰¿è‡ªPerson
        student.study();      // è‡ªå·±çš„æ–¹æ³•
        student.introduce();  // é‡å†™çš„æ–¹æ³•
        
        System.out.println("---");
        
        Teacher teacher = new Teacher("èµµè€å¸ˆ", 35, "æ•°å­¦", 8000);
        teacher.eat();
        teacher.teach();
        teacher.introduce();
    }
}
```

## 4. å¤šæ€ï¼ˆPolymorphismï¼‰ â­â­â­â­â­

### å¤šæ€ç¤ºä¾‹

```java
/**
 * å¤šæ€æ¼”ç¤º - åŒä¸€è¡Œä¸ºï¼Œä¸åŒè¡¨ç°
 */
public class PolymorphismDemo {
    public static void main(String[] args) {
        // å¤šæ€ï¼šçˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ â­â­â­â­â­
        Person p1 = new StudentExtends("å¼ ä¸‰", 20, "åŒ—äº¬å¤§å­¦", "è½¯ä»¶å·¥ç¨‹");
        Person p2 = new Teacher("æè€å¸ˆ", 40, "è‹±è¯­", 9000);
        
        // è°ƒç”¨é‡å†™çš„æ–¹æ³•ï¼Œå±•ç°ä¸åŒè¡Œä¸º
        p1.introduce();  // è°ƒç”¨Studentçš„introduce
        System.out.println("---");
        p2.introduce();  // è°ƒç”¨Teacherçš„introduce
        
        // å¤šæ€çš„å¥½å¤„ï¼šç»Ÿä¸€å¤„ç†
        Person[] people = {
            new StudentExtends("å°æ˜", 19, "å¤æ—¦å¤§å­¦", "ç‰©ç†"),
            new Teacher("ç‹è€å¸ˆ", 45, "åŒ–å­¦", 10000),
            new StudentExtends("å°çº¢", 21, "ä¸Šæµ·äº¤å¤§", "ç”Ÿç‰©"),
        };
        
        System.out.println("\n===æ‰¹é‡å¤„ç†===");
        for (Person person : people) {
            person.introduce();
            System.out.println("---");
        }
        
        // ç±»å‹è½¬æ¢ â­â­â­â­
        if (p1 instanceof StudentExtends) {
            StudentExtends student = (StudentExtends) p1;  // å‘ä¸‹è½¬å‹
            student.study();  // ç°åœ¨å¯ä»¥è°ƒç”¨å­ç±»ç‰¹æœ‰æ–¹æ³•
        }
        
        // Java 16+ æ¨¡å¼åŒ¹é…ï¼ˆæ¨èï¼‰ â­â­â­â­â­
        if (p2 instanceof Teacher t) {  // è‡ªåŠ¨è½¬å‹
            t.teach();
        }
    }
}
```

## 5. æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰ â­â­â­â­â­

```java
/**
 * æŠ½è±¡ç±»ï¼šå½¢çŠ¶
 * æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿
 */
public abstract class Shape {
    protected String color;
    
    public Shape(String color) {
        this.color = color;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šæ²¡æœ‰æ–¹æ³•ä½“ï¼Œå­ç±»å¿…é¡»å®ç° â­â­â­â­â­
    public abstract double getArea();
    public abstract double getPerimeter();
    
    // æ™®é€šæ–¹æ³•ï¼šå¯ä»¥æœ‰å®ç°
    public void display() {
        System.out.println("è¿™æ˜¯ä¸€ä¸ª" + color + "çš„å›¾å½¢");
        System.out.println("é¢ç§¯ï¼š" + getArea());
        System.out.println("å‘¨é•¿ï¼š" + getPerimeter());
    }
}

/**
 * åœ†å½¢ç±»
 */
public class Circle extends Shape {
    private double radius;
    
    public Circle(String color, double radius) {
        super(color);
        this.radius = radius;
    }
    
    @Override
    public double getArea() {
        return Math.PI * radius * radius;
    }
    
    @Override
    public double getPerimeter() {
        return 2 * Math.PI * radius;
    }
}

/**
 * çŸ©å½¢ç±»
 */
public class Rectangle extends Shape {
    private double width;
    private double height;
    
    public Rectangle(String color, double width, double height) {
        super(color);
        this.width = width;
        this.height = height;
    }
    
    @Override
    public double getArea() {
        return width * height;
    }
    
    @Override
    public double getPerimeter() {
        return 2 * (width + height);
    }
}
```

## 6. æ¥å£ï¼ˆInterfaceï¼‰ â­â­â­â­â­

```java
/**
 * æ¥å£ï¼šå¯é£è¡Œçš„
 * æ¥å£å®šä¹‰è§„èŒƒï¼Œå®ç°ç±»æä¾›å…·ä½“å®ç°
 */
public interface Flyable {
    // æ¥å£ä¸­çš„å˜é‡é»˜è®¤æ˜¯ public static final
    int MAX_HEIGHT = 10000;
    
    // æŠ½è±¡æ–¹æ³•ï¼ˆé»˜è®¤public abstractï¼‰ â­â­â­â­â­
    void fly();
    void land();
    
    // é»˜è®¤æ–¹æ³•ï¼ˆJava 8+ï¼‰ â­â­â­â­
    default void prepare() {
        System.out.println("å‡†å¤‡èµ·é£...");
    }
    
    // é™æ€æ–¹æ³•ï¼ˆJava 8+ï¼‰ â­â­â­
    static void checkWeather() {
        System.out.println("æ£€æŸ¥å¤©æ°”çŠ¶å†µ");
    }
}

/**
 * æ¥å£ï¼šå¯æ¸¸æ³³çš„
 */
public interface Swimmable {
    void swim();
}

/**
 * é¸Ÿç±» - å®ç°é£è¡Œæ¥å£
 */
public class Bird implements Flyable {
    private String name;
    
    public Bird(String name) {
        this.name = name;
    }
    
    @Override
    public void fly() {
        System.out.println(name + "åœ¨å¤©ç©ºä¸­é£ç¿”");
    }
    
    @Override
    public void land() {
        System.out.println(name + "é™è½åˆ°åœ°é¢");
    }
}

/**
 * é¸­å­ - å®ç°å¤šä¸ªæ¥å£ â­â­â­â­â­
 */
public class Duck implements Flyable, Swimmable {
    private String name;
    
    public Duck(String name) {
        this.name = name;
    }
    
    @Override
    public void fly() {
        System.out.println(name + "ç¬¨æ‹™åœ°é£è¡Œ");
    }
    
    @Override
    public void land() {
        System.out.println(name + "é™è½");
    }
    
    @Override
    public void swim() {
        System.out.println(name + "åœ¨æ°´ä¸­æ¸¸æ³³");
    }
}

/**
 * æ¥å£æµ‹è¯•
 */
public class InterfaceTest {
    public static void main(String[] args) {
        Bird bird = new Bird("è€é¹°");
        bird.prepare();  // é»˜è®¤æ–¹æ³•
        bird.fly();
        bird.land();
        
        System.out.println("---");
        
        Duck duck = new Duck("å”è€é¸­");
        duck.prepare();
        duck.fly();
        duck.swim();
        
        System.out.println("---");
        
        // æ¥å£å¤šæ€ â­â­â­â­â­
        Flyable flyable = new Duck("å°é»„é¸­");
        flyable.fly();
        
        Flyable.checkWeather();  // è°ƒç”¨é™æ€æ–¹æ³•
    }
}
```

## 7. é‡è¦å…³é”®å­—

### finalå…³é”®å­— â­â­â­â­â­

```java
public class FinalDemo {
    // finalå˜é‡ï¼šå¸¸é‡ï¼Œä¸å¯ä¿®æ”¹
    public static final double PI = 3.14159;
    
    // finalæ–¹æ³•ï¼šä¸èƒ½è¢«é‡å†™
    public final void calculate() {
        System.out.println("è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¢«é‡å†™");
    }
}

// finalç±»ï¼šä¸èƒ½è¢«ç»§æ‰¿
public final class FinalClass {
    // ä¾‹å¦‚ï¼šStringã€Integerç­‰
}
```

### staticå…³é”®å­— â­â­â­â­â­

```java
public class StaticDemo {
    // é™æ€å˜é‡ï¼ˆç±»å˜é‡ï¼‰ï¼šæ‰€æœ‰å¯¹è±¡å…±äº«
    private static int count = 0;
    
    // å®ä¾‹å˜é‡
    private int id;
    
    public StaticDemo() {
        count++;  // æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè®¡æ•°åŠ 1
        this.id = count;
    }
    
    // é™æ€æ–¹æ³•ï¼šå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨
    public static int getCount() {
        return count;
    }
    
    // é™æ€ä»£ç å—ï¼šç±»åŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡
    static {
        System.out.println("StaticDemoç±»è¢«åŠ è½½");
    }
    
    public void showInfo() {
        System.out.println("æˆ‘æ˜¯ç¬¬" + id + "ä¸ªå¯¹è±¡ï¼Œæ€»å…±åˆ›å»ºäº†" + count + "ä¸ªå¯¹è±¡");
    }
    
    public static void main(String[] args) {
        System.out.println("å½“å‰å¯¹è±¡æ•°ï¼š" + StaticDemo.getCount());
        
        StaticDemo obj1 = new StaticDemo();
        StaticDemo obj2 = new StaticDemo();
        StaticDemo obj3 = new StaticDemo();
        
        obj1.showInfo();
        obj2.showInfo();
        obj3.showInfo();
        
        System.out.println("æ€»å¯¹è±¡æ•°ï¼š" + StaticDemo.getCount());
    }
}
```

## ğŸ’¡ é‡ç‚¹æ€»ç»“

### æŠ½è±¡ç±» vs æ¥å£ â­â­â­â­â­

| ç‰¹æ€§ | æŠ½è±¡ç±» | æ¥å£ |
|------|--------|------|
| å…³é”®å­— | abstract class | interface |
| ç»§æ‰¿/å®ç° | extendsï¼ˆå•ç»§æ‰¿ï¼‰ | implementsï¼ˆå¤šå®ç°ï¼‰ |
| æ–¹æ³• | å¯ä»¥æœ‰æŠ½è±¡å’Œæ™®é€šæ–¹æ³• | æŠ½è±¡æ–¹æ³•+é»˜è®¤æ–¹æ³•+é™æ€æ–¹æ³• |
| å˜é‡ | å¯ä»¥æœ‰å„ç§å˜é‡ | åªèƒ½æœ‰å¸¸é‡ï¼ˆpublic static finalï¼‰ |
| æ„é€ æ–¹æ³• | å¯ä»¥æœ‰ | ä¸èƒ½æœ‰ |
| ä½¿ç”¨åœºæ™¯ | "æ˜¯ä»€ä¹ˆ"çš„å…³ç³» | "èƒ½åšä»€ä¹ˆ"çš„å…³ç³» |

### è®¾è®¡å»ºè®® â­â­â­â­â­

1. **ä¼˜å…ˆä½¿ç”¨æ¥å£**ï¼šJava 8+æ¥å£åŠŸèƒ½å·²ç»å¾ˆå¼ºå¤§
2. **åˆç†ä½¿ç”¨ç»§æ‰¿**ï¼šä¸è¦ä¸ºäº†ç»§æ‰¿è€Œç»§æ‰¿
3. **å¤šç”¨ç»„åˆ**ï¼šç»„åˆä¼˜äºç»§æ‰¿
4. **é¢å‘æ¥å£ç¼–ç¨‹**ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°

## ğŸ¯ ç»ƒä¹ å»ºè®®

1. è®¾è®¡ä¸€ä¸ªåŠ¨ç‰©ç³»ç»Ÿï¼ˆç»§æ‰¿+å¤šæ€ï¼‰
2. å®ç°ä¸€ä¸ªå›¾å½¢è®¡ç®—å™¨ï¼ˆæŠ½è±¡ç±»+æ¥å£ï¼‰
3. è®¾è®¡ä¸€ä¸ªäº¤é€šå·¥å…·ä½“ç³»ï¼ˆå¤šæ€åº”ç”¨ï¼‰
4. å®ç°ä¸€ä¸ªç®€å•çš„å‘˜å·¥ç®¡ç†ç³»ç»Ÿ

## ğŸ“š ä¸‹ä¸€æ­¥

å­¦ä¹ å®Œé¢å‘å¯¹è±¡åï¼Œç»§ç»­å­¦ä¹  [é›†åˆæ¡†æ¶](./é›†åˆæ¡†æ¶.md)

