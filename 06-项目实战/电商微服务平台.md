# ç”µå•†å¾®æœåŠ¡å¹³å°å®æˆ˜

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”µå•†å¾®æœåŠ¡å¹³å°é¡¹ç›®ï¼Œæ¶µç›–ç”¨æˆ·ã€å•†å“ã€è®¢å•ã€æ”¯ä»˜ç­‰æ ¸å¿ƒä¸šåŠ¡æ¨¡å—ï¼Œé‡‡ç”¨Spring Cloud Alibabaå¾®æœåŠ¡æ¶æ„ï¼Œæ˜¯å­¦ä¹ ä¼ä¸šçº§å¾®æœåŠ¡å¼€å‘çš„æœ€ä½³å®æˆ˜é¡¹ç›®ã€‚

### é¡¹ç›®ç‰¹ç‚¹

```
âœ… å®Œæ•´çš„ä¸šåŠ¡åœºæ™¯ï¼šç”¨æˆ·æ³¨å†Œç™»å½•ã€å•†å“æµè§ˆã€ä¸‹å•æ”¯ä»˜ã€è®¢å•ç®¡ç†
âœ… å¾®æœåŠ¡æ¶æ„ï¼šæœåŠ¡æ‹†åˆ†ã€æœåŠ¡æ²»ç†ã€åˆ†å¸ƒå¼äº‹åŠ¡
âœ… é«˜å¹¶å‘è®¾è®¡ï¼šç¼“å­˜ã€é™æµã€é™çº§ã€ç†”æ–­
âœ… æŠ€æœ¯æ ˆå…ˆè¿›ï¼šSpring Cloud Alibabaã€MySQLã€Redisã€RocketMQ
âœ… ç”Ÿäº§çº§ä»£ç ï¼šå®Œæ•´çš„å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ç›‘æ§ã€å•å…ƒæµ‹è¯•
```

## 1. é¡¹ç›®æ¶æ„ â­â­â­â­â­

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TD
    A[å‰ç«¯Web/App] --> B[APIç½‘å…³ Gateway]
    B --> C[ç”¨æˆ·æœåŠ¡ User Service]
    B --> D[å•†å“æœåŠ¡ Product Service]
    B --> E[è®¢å•æœåŠ¡ Order Service]
    B --> F[æ”¯ä»˜æœåŠ¡ Payment Service]
    
    C --> G[(ç”¨æˆ·DB)]
    D --> H[(å•†å“DB)]
    E --> I[(è®¢å•DB)]
    F --> J[(æ”¯ä»˜DB)]
    
    C --> K[Redis]
    D --> K
    E --> K
    F --> K
    
    E --> L[RocketMQ]
    F --> L
    
    C --> M[Nacos]
    D --> M
    E --> M
    F --> M
    
    B --> N[Sentinel]
    C --> N
    D --> N
    E --> N
    F --> N
```

### æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Spring Boot** | 3.0.x | åŸºç¡€æ¡†æ¶ |
| **Spring Cloud Alibaba** | 2022.x | å¾®æœåŠ¡æ¡†æ¶ |
| **Nacos** | 2.2.x | æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒ |
| **Sentinel** | 1.8.x | é™æµé™çº§ |
| **Seata** | 1.6.x | åˆ†å¸ƒå¼äº‹åŠ¡ |
| **Gateway** | 4.0.x | APIç½‘å…³ |
| **MySQL** | 8.0 | ä¸»æ•°æ®åº“ |
| **Redis** | 7.0 | ç¼“å­˜ |
| **RocketMQ** | 5.0 | æ¶ˆæ¯é˜Ÿåˆ— |
| **Elasticsearch** | 8.x | å•†å“æœç´¢ |
| **Skywalking** | 9.x | é“¾è·¯è¿½è¸ª |
| **Docker** | 20.x | å®¹å™¨åŒ– |
| **Kubernetes** | 1.25+ | å®¹å™¨ç¼–æ’ |

## 2. æœåŠ¡æ‹†åˆ† â­â­â­â­â­

### æœåŠ¡åˆ—è¡¨

```
1. mall-gatewayï¼ˆAPIç½‘å…³ï¼‰
   - ç»Ÿä¸€å…¥å£
   - è·¯ç”±è½¬å‘
   - è®¤è¯æˆæƒ
   - é™æµé™çº§

2. mall-userï¼ˆç”¨æˆ·æœåŠ¡ï¼‰
   - ç”¨æˆ·æ³¨å†Œç™»å½•
   - ç”¨æˆ·ä¿¡æ¯ç®¡ç†
   - åœ°å€ç®¡ç†
   - æ”¶è—å¤¹

3. mall-productï¼ˆå•†å“æœåŠ¡ï¼‰
   - å•†å“ç®¡ç†
   - åˆ†ç±»ç®¡ç†
   - åº“å­˜ç®¡ç†
   - å•†å“æœç´¢

4. mall-orderï¼ˆè®¢å•æœåŠ¡ï¼‰
   - è®¢å•åˆ›å»º
   - è®¢å•æŸ¥è¯¢
   - è®¢å•çŠ¶æ€ç®¡ç†
   - è®¢å•å–æ¶ˆ

5. mall-paymentï¼ˆæ”¯ä»˜æœåŠ¡ï¼‰
   - æ”¯ä»˜å¤„ç†
   - é€€æ¬¾å¤„ç†
   - æ”¯ä»˜å›è°ƒ
   - è´¦å•æŸ¥è¯¢

6. mall-commonï¼ˆå…¬å…±æ¨¡å—ï¼‰
   - å…¬å…±å®ä½“ç±»
   - å…¬å…±å·¥å…·ç±»
   - å…¬å…±å¸¸é‡
   - ç»Ÿä¸€å“åº”
```

## 3. æ ¸å¿ƒåŠŸèƒ½å®ç° â­â­â­â­â­

### 3.1 ç”¨æˆ·æœåŠ¡

**ç”¨æˆ·æ³¨å†Œ**

```java
@Service
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    @Autowired
    private PasswordEncoder passwordEncoder;
    
    /**
     * ç”¨æˆ·æ³¨å†Œ
     */
    @Transactional
    public UserDTO register(RegisterRequest request) {
        // 1. æ ¡éªŒç”¨æˆ·åæ˜¯å¦å­˜åœ¨
        if (userRepository.existsByUsername(request.getUsername())) {
            throw new BusinessException("ç”¨æˆ·åå·²å­˜åœ¨");
        }
        
        // 2. æ ¡éªŒæ‰‹æœºå·æ˜¯å¦å­˜åœ¨
        if (userRepository.existsByPhone(request.getPhone())) {
            throw new BusinessException("æ‰‹æœºå·å·²æ³¨å†Œ");
        }
        
        // 3. æ ¡éªŒéªŒè¯ç 
        String codeKey = "sms:code:" + request.getPhone();
        String cachedCode = (String) redisTemplate.opsForValue().get(codeKey);
        if (!request.getCode().equals(cachedCode)) {
            throw new BusinessException("éªŒè¯ç é”™è¯¯");
        }
        
        // 4. åˆ›å»ºç”¨æˆ·
        User user = new User();
        user.setUsername(request.getUsername());
        user.setPassword(passwordEncoder.encode(request.getPassword()));
        user.setPhone(request.getPhone());
        user.setNickname(request.getNickname());
        user.setStatus(UserStatus.ACTIVE);
        user.setCreatedAt(LocalDateTime.now());
        
        userRepository.save(user);
        
        // 5. åˆ é™¤éªŒè¯ç 
        redisTemplate.delete(codeKey);
        
        // 6. è¿”å›ç”¨æˆ·ä¿¡æ¯
        return UserMapper.toDTO(user);
    }
    
    /**
     * ç”¨æˆ·ç™»å½•
     */
    public LoginResponse login(LoginRequest request) {
        // 1. æŸ¥è¯¢ç”¨æˆ·
        User user = userRepository.findByUsername(request.getUsername())
            .orElseThrow(() -> new BusinessException("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"));
        
        // 2. æ ¡éªŒå¯†ç 
        if (!passwordEncoder.matches(request.getPassword(), user.getPassword())) {
            throw new BusinessException("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
        }
        
        // 3. æ ¡éªŒç”¨æˆ·çŠ¶æ€
        if (user.getStatus() != UserStatus.ACTIVE) {
            throw new BusinessException("ç”¨æˆ·å·²è¢«ç¦ç”¨");
        }
        
        // 4. ç”ŸæˆJWT Token
        String token = JwtUtil.generateToken(user.getId(), user.getUsername());
        
        // 5. ç¼“å­˜ç”¨æˆ·ä¿¡æ¯
        String userKey = "user:info:" + user.getId();
        redisTemplate.opsForValue().set(userKey, user, 30, TimeUnit.MINUTES);
        
        // 6. è¿”å›ç™»å½•ä¿¡æ¯
        LoginResponse response = new LoginResponse();
        response.setToken(token);
        response.setUser(UserMapper.toDTO(user));
        
        return response;
    }
}
```

### 3.2 å•†å“æœåŠ¡

**å•†å“æŸ¥è¯¢ï¼ˆå¤šçº§ç¼“å­˜ï¼‰**

```java
@Service
public class ProductService {
    
    // L1ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜
    private final Cache<Long, ProductDTO> localCache = Caffeine.newBuilder()
        .maximumSize(10000)
        .expireAfterWrite(5, TimeUnit.MINUTES)
        .build();
    
    @Autowired
    private ProductRepository productRepository;
    
    @Autowired
    private RedisTemplate<String, ProductDTO> redisTemplate;
    
    /**
     * è·å–å•†å“è¯¦æƒ…ï¼ˆå¤šçº§ç¼“å­˜ï¼‰
     */
    public ProductDTO getProduct(Long productId) {
        // 1. æŸ¥è¯¢L1ç¼“å­˜
        ProductDTO product = localCache.getIfPresent(productId);
        if (product != null) {
            log.info("å‘½ä¸­æœ¬åœ°ç¼“å­˜: productId={}", productId);
            return product;
        }
        
        // 2. æŸ¥è¯¢L2ç¼“å­˜ï¼ˆRedisï¼‰
        String cacheKey = "product:" + productId;
        product = redisTemplate.opsForValue().get(cacheKey);
        if (product != null) {
            log.info("å‘½ä¸­Redisç¼“å­˜: productId={}", productId);
            // å›å†™L1ç¼“å­˜
            localCache.put(productId, product);
            return product;
        }
        
        // 3. æŸ¥è¯¢æ•°æ®åº“
        Product entity = productRepository.findById(productId)
            .orElseThrow(() -> new NotFoundException("å•†å“ä¸å­˜åœ¨"));
        
        product = ProductMapper.toDTO(entity);
        
        // 4. å›å†™ç¼“å­˜
        redisTemplate.opsForValue().set(cacheKey, product, 30, TimeUnit.MINUTES);
        localCache.put(productId, product);
        
        log.info("æŸ¥è¯¢æ•°æ®åº“: productId={}", productId);
        return product;
    }
    
    /**
     * æ‰£å‡åº“å­˜ï¼ˆRedis + Luaè„šæœ¬ä¿è¯åŸå­æ€§ï¼‰
     */
    public boolean decreaseStock(Long productId, Integer quantity) {
        String stockKey = "product:stock:" + productId;
        
        // Luaè„šæœ¬ä¿è¯åŸå­æ€§
        String luaScript = 
            "local stock = redis.call('get', KEYS[1]) " +
            "if not stock then " +
            "    return -1 " +
            "end " +
            "if tonumber(stock) >= tonumber(ARGV[1]) then " +
            "    redis.call('decrby', KEYS[1], ARGV[1]) " +
            "    return 1 " +
            "else " +
            "    return 0 " +
            "end";
        
        DefaultRedisScript<Long> redisScript = new DefaultRedisScript<>();
        redisScript.setScriptText(luaScript);
        redisScript.setResultType(Long.class);
        
        Long result = redisTemplate.execute(
            redisScript,
            Collections.singletonList(stockKey),
            String.valueOf(quantity)
        );
        
        if (result == null || result == -1) {
            // ç¼“å­˜ä¸­æ²¡æœ‰åº“å­˜ï¼Œä»æ•°æ®åº“åŠ è½½
            Product product = productRepository.findById(productId)
                .orElseThrow(() -> new NotFoundException("å•†å“ä¸å­˜åœ¨"));
            redisTemplate.opsForValue().set(stockKey, String.valueOf(product.getStock()));
            return decreaseStock(productId, quantity);
        }
        
        return result == 1;
    }
}
```

### 3.3 è®¢å•æœåŠ¡

**è®¢å•åˆ›å»ºï¼ˆåˆ†å¸ƒå¼äº‹åŠ¡ï¼‰**

```java
@Service
public class OrderService {
    
    @Autowired
    private OrderRepository orderRepository;
    
    @Autowired
    private ProductClient productClient;
    
    @Autowired
    private RocketMQTemplate rocketMQTemplate;
    
    /**
     * åˆ›å»ºè®¢å•ï¼ˆä½¿ç”¨Seataåˆ†å¸ƒå¼äº‹åŠ¡ï¼‰
     */
    @GlobalTransactional(name = "create-order", rollbackFor = Exception.class)
    public OrderDTO createOrder(CreateOrderRequest request) {
        // 1. æ ¡éªŒå•†å“ä¿¡æ¯
        ProductDTO product = productClient.getProduct(request.getProductId());
        if (product == null) {
            throw new BusinessException("å•†å“ä¸å­˜åœ¨");
        }
        
        // 2. æ ¡éªŒåº“å­˜
        if (product.getStock() < request.getQuantity()) {
            throw new BusinessException("åº“å­˜ä¸è¶³");
        }
        
        // 3. æ‰£å‡åº“å­˜ï¼ˆè¿œç¨‹è°ƒç”¨å•†å“æœåŠ¡ï¼‰
        boolean success = productClient.decreaseStock(
            request.getProductId(), 
            request.getQuantity()
        );
        if (!success) {
            throw new BusinessException("æ‰£å‡åº“å­˜å¤±è´¥");
        }
        
        // 4. åˆ›å»ºè®¢å•
        Order order = new Order();
        order.setOrderNo(generateOrderNo());
        order.setUserId(request.getUserId());
        order.setProductId(request.getProductId());
        order.setProductName(product.getName());
        order.setQuantity(request.getQuantity());
        order.setPrice(product.getPrice());
        order.setTotalAmount(product.getPrice().multiply(BigDecimal.valueOf(request.getQuantity())));
        order.setStatus(OrderStatus.PENDING_PAYMENT);
        order.setCreatedAt(LocalDateTime.now());
        
        orderRepository.save(order);
        
        // 5. å‘é€è®¢å•åˆ›å»ºäº‹ä»¶
        OrderCreatedEvent event = new OrderCreatedEvent();
        event.setOrderId(order.getId());
        event.setOrderNo(order.getOrderNo());
        event.setUserId(order.getUserId());
        event.setTotalAmount(order.getTotalAmount());
        
        rocketMQTemplate.convertAndSend("order-topic", event);
        
        // 6. è¿”å›è®¢å•ä¿¡æ¯
        return OrderMapper.toDTO(order);
    }
    
    /**
     * ç”Ÿæˆè®¢å•å·
     */
    private String generateOrderNo() {
        // è®¢å•å·è§„åˆ™ï¼šæ—¶é—´æˆ³ + éšæœºæ•°
        String timestamp = String.valueOf(System.currentTimeMillis());
        String random = String.valueOf(ThreadLocalRandom.current().nextInt(1000, 9999));
        return timestamp + random;
    }
}
```

### 3.4 æ”¯ä»˜æœåŠ¡

**æ”¯ä»˜å¤„ç†**

```java
@Service
public class PaymentService {
    
    @Autowired
    private PaymentRepository paymentRepository;
    
    @Autowired
    private OrderClient orderClient;
    
    @Autowired
    private RocketMQTemplate rocketMQTemplate;
    
    /**
     * åˆ›å»ºæ”¯ä»˜è®¢å•
     */
    @Transactional
    public PaymentDTO createPayment(CreatePaymentRequest request) {
        // 1. æŸ¥è¯¢è®¢å•ä¿¡æ¯
        OrderDTO order = orderClient.getOrder(request.getOrderId());
        if (order == null) {
            throw new BusinessException("è®¢å•ä¸å­˜åœ¨");
        }
        
        // 2. æ ¡éªŒè®¢å•çŠ¶æ€
        if (order.getStatus() != OrderStatus.PENDING_PAYMENT) {
            throw new BusinessException("è®¢å•çŠ¶æ€ä¸æ­£ç¡®");
        }
        
        // 3. åˆ›å»ºæ”¯ä»˜è®°å½•
        Payment payment = new Payment();
        payment.setPaymentNo(generatePaymentNo());
        payment.setOrderId(order.getId());
        payment.setOrderNo(order.getOrderNo());
        payment.setUserId(order.getUserId());
        payment.setAmount(order.getTotalAmount());
        payment.setPaymentMethod(request.getPaymentMethod());
        payment.setStatus(PaymentStatus.PENDING);
        payment.setCreatedAt(LocalDateTime.now());
        
        paymentRepository.save(payment);
        
        // 4. è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£ï¼ˆè¿™é‡Œæ¨¡æ‹Ÿï¼‰
        String payUrl = callThirdPartyPayment(payment);
        
        // 5. è¿”å›æ”¯ä»˜ä¿¡æ¯
        PaymentDTO paymentDTO = PaymentMapper.toDTO(payment);
        paymentDTO.setPayUrl(payUrl);
        
        return paymentDTO;
    }
    
    /**
     * æ”¯ä»˜å›è°ƒ
     */
    @Transactional
    public void paymentCallback(PaymentCallbackRequest request) {
        // 1. æŸ¥è¯¢æ”¯ä»˜è®°å½•
        Payment payment = paymentRepository.findByPaymentNo(request.getPaymentNo())
            .orElseThrow(() -> new BusinessException("æ”¯ä»˜è®°å½•ä¸å­˜åœ¨"));
        
        // 2. æ ¡éªŒæ”¯ä»˜çŠ¶æ€
        if (payment.getStatus() != PaymentStatus.PENDING) {
            log.warn("æ”¯ä»˜çŠ¶æ€ä¸æ­£ç¡®: paymentNo={}, status={}", 
                request.getPaymentNo(), payment.getStatus());
            return;
        }
        
        // 3. æ›´æ–°æ”¯ä»˜çŠ¶æ€
        payment.setStatus(PaymentStatus.SUCCESS);
        payment.setPaymentTime(LocalDateTime.now());
        payment.setThirdPartyNo(request.getThirdPartyNo());
        
        paymentRepository.save(payment);
        
        // 4. å‘é€æ”¯ä»˜æˆåŠŸäº‹ä»¶
        PaymentSuccessEvent event = new PaymentSuccessEvent();
        event.setPaymentId(payment.getId());
        event.setPaymentNo(payment.getPaymentNo());
        event.setOrderId(payment.getOrderId());
        event.setOrderNo(payment.getOrderNo());
        event.setUserId(payment.getUserId());
        event.setAmount(payment.getAmount());
        
        rocketMQTemplate.convertAndSend("payment-topic", event);
        
        // 5. æ›´æ–°è®¢å•çŠ¶æ€ï¼ˆè¿œç¨‹è°ƒç”¨ï¼‰
        orderClient.updateOrderStatus(payment.getOrderId(), OrderStatus.PAID);
    }
    
    /**
     * ç”Ÿæˆæ”¯ä»˜å•å·
     */
    private String generatePaymentNo() {
        String timestamp = String.valueOf(System.currentTimeMillis());
        String random = String.valueOf(ThreadLocalRandom.current().nextInt(1000, 9999));
        return "PAY" + timestamp + random;
    }
    
    /**
     * è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£ï¼ˆæ¨¡æ‹Ÿï¼‰
     */
    private String callThirdPartyPayment(Payment payment) {
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œè°ƒç”¨æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ç­‰æ¥å£
        return "https://pay.example.com?paymentNo=" + payment.getPaymentNo();
    }
}
```

## 4. APIç½‘å…³é…ç½® â­â­â­â­â­

```yaml
# application.yml
spring:
  cloud:
    gateway:
      routes:
        # ç”¨æˆ·æœåŠ¡è·¯ç”±
        - id: mall-user
          uri: lb://mall-user
          predicates:
            - Path=/api/user/**
          filters:
            - StripPrefix=2
            - name: RequestRateLimiter
              args:
                redis-rate-limiter.replenishRate: 100
                redis-rate-limiter.burstCapacity: 200
        
        # å•†å“æœåŠ¡è·¯ç”±
        - id: mall-product
          uri: lb://mall-product
          predicates:
            - Path=/api/product/**
          filters:
            - StripPrefix=2
        
        # è®¢å•æœåŠ¡è·¯ç”±
        - id: mall-order
          uri: lb://mall-order
          predicates:
            - Path=/api/order/**
          filters:
            - StripPrefix=2
            - name: CircuitBreaker
              args:
                name: orderCircuitBreaker
                fallbackUri: forward:/fallback/order
        
        # æ”¯ä»˜æœåŠ¡è·¯ç”±
        - id: mall-payment
          uri: lb://mall-payment
          predicates:
            - Path=/api/payment/**
          filters:
            - StripPrefix=2
```

## 5. éƒ¨ç½²æ–¹æ¡ˆ â­â­â­â­â­

### Docker Composeéƒ¨ç½²

```yaml
version: '3.8'

services:
  # MySQL
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root123
    ports:
      - "3306:3306"
    volumes:
      - mysql-data:/var/lib/mysql
  
  # Redis
  redis:
    image: redis:7.0
    ports:
      - "6379:6379"
  
  # Nacos
  nacos:
    image: nacos/nacos-server:v2.2.0
    environment:
      MODE: standalone
    ports:
      - "8848:8848"
  
  # RocketMQ
  rocketmq:
    image: apache/rocketmq:5.0.0
    ports:
      - "9876:9876"
      - "10911:10911"
  
  # Gateway
  gateway:
    image: mall-gateway:latest
    ports:
      - "8080:8080"
    depends_on:
      - nacos
      - redis
  
  # User Service
  user-service:
    image: mall-user:latest
    depends_on:
      - nacos
      - mysql
      - redis
  
  # Product Service
  product-service:
    image: mall-product:latest
    depends_on:
      - nacos
      - mysql
      - redis
  
  # Order Service
  order-service:
    image: mall-order:latest
    depends_on:
      - nacos
      - mysql
      - redis
      - rocketmq
  
  # Payment Service
  payment-service:
    image: mall-payment:latest
    depends_on:
      - nacos
      - mysql
      - redis
      - rocketmq

volumes:
  mysql-data:
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä»£ç è§„èŒƒ

```
- ä½¿ç”¨ç»Ÿä¸€çš„ä»£ç é£æ ¼ï¼ˆé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œï¼‰
- ä½¿ç”¨Lombokç®€åŒ–ä»£ç 
- ä½¿ç”¨MapStructè¿›è¡Œå¯¹è±¡è½¬æ¢
- ä½¿ç”¨ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†
- ä½¿ç”¨ç»Ÿä¸€çš„å“åº”æ ¼å¼
```

### 2. æ€§èƒ½ä¼˜åŒ–

```
- ä½¿ç”¨å¤šçº§ç¼“å­˜
- ä½¿ç”¨å¼‚æ­¥å¤„ç†
- ä½¿ç”¨è¿æ¥æ± 
- ä½¿ç”¨æ‰¹é‡æ“ä½œ
- ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
```

### 3. å®‰å…¨è®¾è®¡

```
- ä½¿ç”¨JWTè®¤è¯
- ä½¿ç”¨HTTPSä¼ è¾“
- æ•æ„Ÿæ•°æ®åŠ å¯†
- é˜²æ­¢SQLæ³¨å…¥
- é˜²æ­¢XSSæ”»å‡»
```

## ğŸ¯ å­¦ä¹ å»ºè®®

```
1. å…ˆç†è§£æ•´ä½“æ¶æ„
2. é€ä¸ªæœåŠ¡å­¦ä¹ å®ç°
3. ç†è§£æœåŠ¡é—´é€šä¿¡
4. ç†è§£åˆ†å¸ƒå¼äº‹åŠ¡
5. ç†è§£ç¼“å­˜ç­–ç•¥
6. ç†è§£é™æµé™çº§
7. åŠ¨æ‰‹å®è·µéƒ¨ç½²
```

## ğŸ“š é¡¹ç›®æºç 

```
GitHub: https://github.com/example/mall-microservice
ï¼ˆç¤ºä¾‹åœ°å€ï¼Œå®é™…é¡¹ç›®è¯·è‡ªè¡Œå®ç°ï¼‰
```

---

**æ­å–œä½ å®Œæˆäº†ç”µå•†å¾®æœåŠ¡å¹³å°çš„å­¦ä¹ ï¼** ğŸ‰

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šçº§å¾®æœåŠ¡é¡¹ç›®ï¼Œå»ºè®®åŠ¨æ‰‹å®è·µï¼ŒåŠ æ·±ç†è§£ï¼

